<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <title>위니브 샵</title>
</head>

<body>

    <div id="root"></div>
    <div>왜안되</div>

    <script type="text/babel">

        const data = fetch("http://test.api.weniv.co.kr/mall")
            .then((response) => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .catch((error) => {
                console.error(error);
            });




        const Product = (props) => {
            return (
                <div>
                    <Card goods={props.data} />
                </div>
            )
        }

        const Card = (props) => {
            let answer = [];
            props.goods.then((result) => {
                const itemMenu = [];
                for (let i = 0; i < result.length; i++) {
                    answer.push(result[i].price)
                    itemMenu.push(result[i].productName)
                }
                return (
                    <div>
                        <h1>ㅎㅇㅎㅇ</h1>
                        {itemMenu}
                    </div>
                )
            })
            console.log(answer)
            return (
                <div>
                    {answer}
                </div>
            )
        }
        const body = (
            <div>
                <Product data={data} />
            </div>
        );
        const root = ReactDOM.createRoot(document.querySelector('#root'));
        root.render(body)
    </script>
</body>

</html>